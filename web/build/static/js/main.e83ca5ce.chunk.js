(this["webpackJsonpreact-housework"]=this["webpackJsonpreact-housework"]||[]).push([[0],{246:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(57),c=n.n(s),i=n(50),o=(n(246),n(22)),d=n(106),u=function(){return Object(d.b)()},l=d.c,j=n(46),m=n.n(j),b=n(17),p=n(413),h="https://housework-manager-app.herokuapp.com/",f="/web/",x="../static/";function O(e){var t=e||new Date,n=t.getFullYear(),a=("00"+(t.getMonth()+1)).slice(-2),r=("00"+t.getDate()).slice(-2);return{dateOrigin:t,dateString:n+"-"+a+"-"+r,dateNumbner:Number(n+a+r)}}var g="ja-JP"===(window.navigator.languages&&window.navigator.languages[0]||window.navigator.language)?{common:{site:"\u5bb6\u4e8b\u30de\u30cd\u30fc\u30b8\u30e3\u30fc",dad:"\u30d1\u30d1",mom:"\u30de\u30de",message:"\u6210\u529f\u3057\u307e\u3057\u305f",menu:{home:"\u30db\u30fc\u30e0",task:"\u30bf\u30b9\u30af",master:"\u9805\u76ee",account:"\u30e6\u30fc\u30b6\u30fc"},category:{cook:"\u6599\u7406",bath:"\u98a8\u5442",delivery:"\u9001\u8fce",clean:"\u6383\u9664",laundry:"\u200e\u6d17\u6fef",sleep:"\u5c31\u5bdd",wash:"\u6d17\u3044\u7269",child:"\u5b50\u4f9b",others:"\u305d\u306e\u4ed6"},chart:{pie:"\u30b5\u30de\u30ea\u30fc",line:"\u5148\u9031\u306e\u30bf\u30b9\u30af\u5b9f\u7e3e",bar:"\u5148\u9031\u306e\u30dd\u30a4\u30f3\u30c8\u5b9f\u7e3e"}},home:{title1:"\u5bb6\u4e8b\u62c5\u5f53\u30d0\u30e9\u30f3\u30b9",title2:"\u30dd\u30a4\u30f3\u30c8\u30b5\u30de\u30ea\u30fc",sub1:"\u5148\u9031\u306e\u30b5\u30de\u30ea\u30fc",sub2:"\u5148\u6708\u306e\u30b5\u30de\u30ea\u30fc",sub3:"\u30d1\u30d1\u306e\u30b5\u30de\u30ea\u30fc",sub4:"\u30de\u30de\u306e\u30b5\u30de\u30ea\u30fc"},task:{date:"\u65e5\u4ed8\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044",master:"\u9805\u76ee",person:"\u62c5\u5f53",add:"\u8ffd\u52a0",save:"\u4fdd\u5b58"},master:{add:"\u9805\u76ee\u3092\u8ffd\u52a0",name:"\u9805\u76ee\u540d",type:"\u7a2e\u985e",point:"\u30dd\u30a4\u30f3\u30c8\u6570",save:"\u4fdd\u5b58"},account:{welcome:"\u3088\u3046\u3053\u305d",email:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",logout:"\u30ed\u30b0\u30a2\u30a6\u30c8"},login:{title:"\u30ed\u30b0\u30a4\u30f3",user:"\u30e6\u30fc\u30b6\u30fc\u540d",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",remember:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58",signin:"\u30ed\u30b0\u30a4\u30f3",forgot:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f",create:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210"},register:{title:"\u767b\u9332",user:"\u30e6\u30fc\u30b6\u30fc\u540d",email:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",password1:"\u30d1\u30b9\u30ef\u30fc\u30c9",password2:"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d",create:"\u4f5c\u6210",already:"\u3059\u3067\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b"}}:{common:{site:"Housework Manager",dad:"Dad",mom:"Mom",message:"Sucessed!",menu:{home:"Home",task:"Task",master:"Master",account:"Account"},category:{cook:"Cook",bath:"Bath",delivery:"Delivery",clean:"Clean",laundry:"\u200eLaundry",sleep:"Sleep",wash:"Wash",child:"Child",others:"Others"},chart:{pie:"Summary Report",line:"Tasks done last week",bar:"Points got last week"}},home:{title1:"Workload Report",title2:"Point Summary",sub1:"Last week summary",sub2:"Last month summary",sub3:"Dad's Summary",sub4:"Mom's Summary"},task:{date:"Select Date",master:"Master",person:"Person",add:"Add",save:"Save"},master:{add:"Add a new master",name:"Name",type:"Type",point:"Points",save:"Save"},account:{welcome:"Welcome",email:"Email",logout:"Logout"},login:{title:"Login",user:"User",password:"Password",remember:"Remember me",signin:"Sign in",forgot:"Forgot password",create:"Create an account"},register:{title:"Register",user:"User",email:"Email",password1:"Password",password2:"Password Confirm",create:"Create",already:"Already have an account"}};function v(){var e=Object(o.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var w=n(30),k=Object(w.c)({name:"navigator",initialState:{currentPage:0},reducers:{changeNavigation:function(e,t){e.currentPage=t.payload}}}),y=k.reducer,C=function(e){return e.navigator},S=k.actions.changeNavigation,D=n(23),T=n.n(D),_=n(39),L=Object(w.b)("user/userLogin",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/login/",{method:"POST",credentials:"include",body:JSON.stringify({username:t.username,password:t.password}),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(w.b)("user/userLogout",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/logout/",{method:"POST",credentials:"include",headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(w.b)("user/userRegister",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/registration/",{method:"POST",credentials:"include",body:JSON.stringify({username:t.username,email:t.email,password1:t.password1,password2:t.password2}),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(w.b)("user/getUserData",Object(_.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/user/",{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),I=Object(w.c)({name:"user",initialState:{isLogined:!1,token:"",userData:null},reducers:{setLoginStatus:function(e){var t=m.a.get("csrftoken");e.isLogined=!0,e.token=t||""}},extraReducers:function(e){e.addCase(L.fulfilled,(function(e,t){e.isLogined=!0,m.a.set("isLogined","1",{expires:90})})),e.addCase(W.fulfilled,(function(e,t){e.isLogined=!1,e.userData=null,m.a.remove("isLogined"),m.a.remove("csrftoken"),m.a.remove("sessionid")})),e.addCase(E.fulfilled,(function(e,t){e.isLogined=!0,m.a.set("isLogined","1",{expires:90})})),e.addCase(P.fulfilled,(function(e,t){e.userData=t.payload})),e.addCase(L.pending,(function(){})),e.addCase(L.rejected,(function(){})),e.addCase(W.pending,(function(){})),e.addCase(W.rejected,(function(){})),e.addCase(E.pending,(function(){})),e.addCase(E.rejected,(function(){})),e.addCase(P.pending,(function(){})),e.addCase(P.rejected,(function(){}))}}),F=I.reducer,M=function(e){return e.user},N=I.actions.setLoginStatus,R=n(124),H=(m.a.get("csrftoken"),Object(w.b)("master/getMasterList",Object(_.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/",{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))))),J=Object(w.b)("master/addMaster",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/",{method:"POST",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(w.b)("master/editMaster",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/"+String(t.content.id)+"/",{method:"PUT",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(w.b)("master/removeMaster",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/"+String(t.content.id)+"/",{method:"DELETE",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(w.c)({name:"master",initialState:{masters:[]},reducers:{},extraReducers:function(e){e.addCase(H.fulfilled,(function(e,t){e.masters=t.payload})),e.addCase(J.fulfilled,(function(e,t){e.masters=[].concat(Object(b.a)(e.masters),[t.payload])})),e.addCase(A.fulfilled,(function(e,t){e.masters=e.masters.filter((function(e){return e.id!==t.payload.id})),e.masters=[].concat(Object(b.a)(e.masters),[t.payload])})),e.addCase(G.fulfilled,(function(e,t){e.masters=e.masters.filter((function(e){return e.id!==t.payload.id}))})),e.addCase(H.pending,(function(){})),e.addCase(H.rejected,(function(){})),e.addCase(J.pending,(function(){})),e.addCase(J.rejected,(function(){})),e.addCase(A.pending,(function(){})),e.addCase(A.rejected,(function(){})),e.addCase(G.pending,(function(){})),e.addCase(G.rejected,(function(){}))}}).reducer,q=function(e){return e.master},X=(Object(R.a)((function(e){return e.master}),(function(e,t){return t}),(function(e,t){return e.masters.find((function(e){return e.id===t}))})),Object(R.a)((function(e){return e.master}),(function(e,t){return t}),(function(e,t){return e.masters.find((function(e){return e.name===t}))})),n(414)),B=n(415),U=function(){var e=new Date,t=O(Object(p.a)(e,1)).dateString;return{startWeek:O(Object(X.a)(e,1)).dateString,startMonth:O(Object(B.a)(e,1)).dateString,endDate:t}},V=Object(w.b)("task/getTaskList",function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"api/tasks/?start_date=").concat(t,"&end_date=").concat(t),e.next=3,fetch(n,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return(a=e.sent).forEach((function(e){e.update=!1})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Y=Object(w.b)("task/getWeeklyTaskList",Object(_.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h,"api/tasks/?start_date=").concat(U().startWeek,"&end_date=").concat(U().endDate),e.next=3,fetch(t,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),$=Object(w.b)("task/getMonthlyTaskList",Object(_.a)(T.a.mark((function e(){var t,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h,"api/tasks/?start_date=").concat(U().startMonth,"&end_date=").concat(U().endDate),e.next=3,fetch(t,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),K=Object(w.b)("task/changeTaskList",function(){var e=Object(_.a)(T.a.mark((function e(t){var n,a,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.editTaskList.forEach((function(e){n.push({id:e.id,user:e.user,master:e.master,person:e.person,date:e.date})})),t.newTaskList.forEach((function(e){n.push({user:e.user,master:e.master,person:e.person,date:e.date})})),e.next=5,fetch(h+"api/tasks/",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 5:return a=e.sent,r={content:a,date:t.date},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=Object(w.b)("task/deleteTask",function(){var e=Object(_.a)(T.a.mark((function e(t){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"api/tasks/").concat(String(t.content.id),"/?start_date=").concat(t.date,"&end_date=").concat(t.date),e.next=3,fetch(n,{method:"DELETE",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}));case 3:return e.sent,e.abrupt("return",t.content.id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=Object(w.c)({name:"task",initialState:{tasks:[],dad:{week:[],month:[]},mom:{week:[],month:[]}},reducers:{},extraReducers:function(e){e.addCase(V.fulfilled,(function(e,t){e.tasks=t.payload})),e.addCase(Y.fulfilled,(function(e,t){var n=t.payload;e.dad.week=n.filter((function(e){return"dad"===e.person})),e.mom.week=n.filter((function(e){return"mom"===e.person}))})),e.addCase($.fulfilled,(function(e,t){var n=t.payload;e.dad.month=n.filter((function(e){return"dad"===e.person})),e.mom.month=n.filter((function(e){return"mom"===e.person}))})),e.addCase(K.fulfilled,(function(e,t){var n=t.payload.content;e.tasks=n.filter((function(e){return e.date===t.payload.date}))})),e.addCase(Q.fulfilled,(function(e,t){console.log("call sucess");var n=Number(t.payload);e.tasks=e.tasks.filter((function(e){return e.id!==n}))})),e.addCase(V.pending,(function(){})),e.addCase(V.rejected,(function(){})),e.addCase(Y.pending,(function(){})),e.addCase(Y.rejected,(function(){})),e.addCase($.pending,(function(){})),e.addCase($.rejected,(function(){})),e.addCase(K.pending,(function(){})),e.addCase(K.rejected,(function(){})),e.addCase(Q.pending,(function(){})),e.addCase(Q.rejected,(function(){}))}}).reducer,ee=function(e){return e.task},te=n(448),ne=n(449),ae=n(451),re=n(452),se=n(142),ce=n(128),ie=n.n(ce),oe=n(200),de=n.n(oe),ue=n(129),le=n.n(ue),je=n(0),me=function(e){var t=e.isLogined,n=Object(o.f)(),a=u();return Object(je.jsx)(te.a,{sx:{flexGrow:1,position:"fixed",width:"100%",top:0,zIndex:10},children:Object(je.jsx)(ne.a,{position:"static",children:Object(je.jsxs)(ae.a,{children:[Object(je.jsx)(re.a,{edge:"start",color:"inherit","aria-label":"logo",children:Object(je.jsx)(ie.a,{})}),Object(je.jsx)(se.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:g.common.site}),t?Object(je.jsx)(re.a,{size:"large",color:"inherit","aria-label":"login",onClick:function(){n.push("/web/account"),a(S(3))},children:Object(je.jsx)(le.a,{})}):Object(je.jsx)(re.a,{size:"large",color:"inherit","aria-label":"login",onClick:function(){n.push("/web/login"),a(S(3))},children:Object(je.jsx)(de.a,{})})]})})})},be=n(10),pe=n(453),he=n(454),fe=n(201),xe=n.n(fe),Oe=n(203),ge=n.n(Oe),ve=n(202),we=n.n(ve),ke=n(204),ye=n.n(ke),Ce=function(){var e=u(),t=Object(o.f)(),n=l(C).currentPage,r=Object(a.useState)(n),s=Object(be.a)(r,2),c=s[0],i=s[1],d=[f,"/web/task","/web/masters","/web/account"],j="1"===m.a.get("isLogined");Object(a.useEffect)((function(){i(n)}),[n]);return Object(je.jsx)(te.a,{children:Object(je.jsxs)(pe.a,{sx:{background:"#efefef",position:"fixed",width:"100%",bottom:0,minHeight:80,zIndex:10},showLabels:!0,value:c,onChange:function(n,a){return r=a,void(j?(i(r),e(S(r)),t.push(d[r])):(i(3),e(S(3)),t.push("/web/login")));var r},children:[Object(je.jsx)(he.a,{label:g.common.menu.home,icon:Object(je.jsx)(xe.a,{})}),Object(je.jsx)(he.a,{label:g.common.menu.task,icon:Object(je.jsx)(we.a,{})}),Object(je.jsx)(he.a,{label:g.common.menu.master,icon:Object(je.jsx)(ge.a,{})}),Object(je.jsx)(he.a,{label:g.common.menu.account,icon:Object(je.jsx)(ye.a,{})})]})})},Se=n(95),De=function(e){var t=e.dad,n=e.mom,a={labels:[g.common.dad,g.common.mom],datasets:[{label:g.common.chart.pie,data:[t,n],backgroundColor:["rgb(66, 165, 245, 0.6)","rgb(255, 112, 67, 0.6)"],borderColor:["rgb(66, 165, 245)","rgb(255, 112, 67)"],borderWidth:1}]};return Object(je.jsx)(Se.c,{data:a})},Te=n(96),_e=function(e){var t=e.chartData,n=new Date,a=[];Object(b.a)(Array(7)).map((function(e,t){var r=7-t,s=Object(Te.a)(O(Object(p.a)(n,r)).dateOrigin,"eee");a.push(String(s))}));var r={labels:a,datasets:[{label:g.common.chart.bar,data:t,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};return Object(je.jsx)(Se.a,{data:r})},Le=function(e){var t=e.chartData,n=new Date,a=[];Object(b.a)(Array(7)).map((function(e,t){var r=7-t,s=Object(Te.a)(O(Object(p.a)(n,r)).dateOrigin,"eee");a.push(String(s))}));var r={labels:a,datasets:[{label:g.common.chart.line,data:t,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(je.jsx)(Se.b,{data:r})},We=n(438),Ee=n(420),Pe=n(442),Ie=n(455),Fe=n(443),Me=n(421),Ne=n(422),Re=n(423),He=n(215),Je=n.n(He),Ae=n(208),Ge=n.n(Ae),ze=n(209),qe=n.n(ze),Xe=n(210),Be=n.n(Xe),Ue=n(207),Ve=n.n(Ue),Ye=n(211),$e=n.n(Ye),Ke=n(212),Qe=n.n(Ke),Ze=n(168),et=n.n(Ze),tt=n(213),nt=n.n(tt),at=[{name:"cook",display:g.common.category.cook,icon:Object(je.jsx)(Ve.a,{})},{name:"bath",display:g.common.category.bath,icon:Object(je.jsx)(Ge.a,{})},{name:"delivery",display:g.common.category.delivery,icon:Object(je.jsx)(qe.a,{})},{name:"clean",display:g.common.category.clean,icon:Object(je.jsx)(ie.a,{})},{name:"\u200elaundry",display:g.common.category.laundry,icon:Object(je.jsx)(Be.a,{})},{name:"sleep",display:g.common.category.sleep,icon:Object(je.jsx)($e.a,{})},{name:"wash",display:g.common.category.wash,icon:Object(je.jsx)(Qe.a,{})},{name:"child",display:g.common.category.child,icon:Object(je.jsx)(nt.a,{})},{name:"others",display:g.common.category.others,icon:Object(je.jsx)(et.a,{})}],rt=function(e){var t=Object(o.f)(),n=e.master;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(We.a,{sx:{pt:2,pb:2},children:Object(je.jsx)(Ee.a,{component:"a",onClick:function(){t.push("".concat(f,"master/").concat(n.id))},children:Object(je.jsxs)(Pe.a,{container:!0,spacing:2,children:[Object(je.jsx)(Pe.a,{item:!0,xs:2,children:Object(je.jsx)(Ie.a,{children:Object(je.jsx)(Fe.a,{children:function(e){var t=at.find((function(t){return t.name===e}));return t?t.icon:Object(je.jsx)(et.a,{})}(n.type)})})}),Object(je.jsx)(Pe.a,{item:!0,xs:6,children:Object(je.jsx)(Me.a,{primary:n.name,secondary:function(e){var t=at.find((function(t){return t.name===e}));return t?t.display:g.common.category.others}(n.type)})}),Object(je.jsx)(Pe.a,{item:!0,xs:1,children:Object(je.jsx)(Ne.a,{sx:{pt:2},children:Object(je.jsx)(Je.a,{})})}),Object(je.jsx)(Pe.a,{item:!0,xs:3,children:Object(je.jsx)(Me.a,{primary:n.point,sx:{pt:2}})})]})})}),Object(je.jsx)(Re.a,{variant:"inset",component:"li"})]})},st=n(439),ct=n(458),it=n(440),ot=n(433),dt=n(460),ut=n(436),lt=n(461),jt=function(e){var t=Object(o.f)(),n=e.master,r=Object(a.useState)(n.name),s=Object(be.a)(r,2),c=s[0],i=s[1],d=Object(a.useState)(n.type),l=Object(be.a)(d,2),j=l[0],m=l[1],b=Object(a.useState)(n.point),p=Object(be.a)(b,2),h=p[0],f=p[1],x=Object(a.useState)(!1),O=Object(be.a)(x,2),v=O[0],w=O[1],k=Object(a.useState)(!1),y=Object(be.a)(k,2),C=y[0],S=y[1],D=u(),T=Object(a.useContext)(tn).user,_=T.userData?T.userData.pk:0,L=T.token;return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(te.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:Object(je.jsxs)(se.a,{component:"h1",variant:"h5",children:["ID: ",n.id]})}),Object(je.jsx)(te.a,{component:"form",sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},noValidate:!0,autoComplete:"off",children:Object(je.jsx)(st.a,{id:"outlined-basic",label:g.master.name,variant:"outlined",value:c,onChange:function(e){return i(e.target.value)}})}),Object(je.jsx)(te.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:Object(je.jsxs)(ct.a,{fullWidth:!0,children:[Object(je.jsx)(it.a,{id:"demo-simple-select-label",children:g.master.type}),Object(je.jsx)(ot.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,label:"Type",onChange:function(e){m(e.target.value)},children:Object.entries(g.common.category).map((function(e){var t=Object(be.a)(e,2),n=t[0],a=t[1];return Object(je.jsx)(dt.a,{value:n,children:a},n)}))})]})}),Object(je.jsxs)(te.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:[Object(je.jsx)(ut.a,{value:h,onChange:function(e,t){f(t)},"aria-label":"Point",valueLabelDisplay:"auto",step:5,min:5,max:50}),Object(je.jsx)(se.a,{component:"p",variant:"body2",children:g.master.point+": "+h})]}),Object(je.jsx)(te.a,{sx:{"& > :not(style)":{m:1,width:"25ch"}},children:Object(je.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,pt:1,pb:1,width:120},onClick:function(){var e={content:{user:_,type:j,name:c,point:h},token:L};if(n.id){var a={content:{id:n.id,user:_,type:j,name:c,point:h},token:L};D(A(a))}else D(J(e));w(!0),setTimeout((function(){S(!0)}),1e3),setTimeout((function(){w(!1),t.push("/web/masters")}),2e3)},children:g.master.save})}),Object(je.jsx)(Pt,{isDisplay:v}),Object(je.jsx)(Lt,{isDisplay:C})]})},mt=n(83),bt=n(462),pt=n(459),ht=n(432),ft=n(429),xt=n(431),Ot=n(133),gt=n.n(Ot),vt=n(219),wt=n.n(vt),kt=n(218),yt=n.n(kt),Ct=Object(a.createContext)({}),St=function(){var e=new Date,t=Object(a.useState)(e),n=Object(be.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)(!1),i=Object(be.a)(c,2),o=i[0],d=i[1],j=Object(a.useState)(!1),m=Object(be.a)(j,2),p=m[0],h=m[1],f=u(),x=O(r),v=Object(a.useContext)(tn).user,w=v.userData?v.userData.pk:0,k=l(ee),y=k.tasks,C=y.map((function(e){return e.id})),S=Object(a.useState)([]),D=Object(be.a)(S,2),T=D[0],_=D[1],L=v.token,W=function(e){var t=T.filter((function(t){return t.id!==e.id}));console.log(t),t.push(e),t.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})),_(t)};return Object(a.useEffect)((function(){_(k.tasks)}),[k,f]),Object(a.useEffect)((function(){_([]),f(V(x.dateString))}),[r,f]),Object(je.jsxs)(bt.a,{maxWidth:"sm",sx:{pt:10,pb:20},children:[Object(je.jsx)(ft.b,{dateAdapter:ht.a,children:Object(je.jsx)(xt.a,{label:g.task.date,value:r,onChange:function(e){s(e)},renderInput:function(e){return Object(je.jsx)(st.a,Object(mt.a)({},e))}})}),Object(je.jsx)(Pe.a,{container:!0,children:Object(je.jsx)(Pe.a,{item:!0,xs:12,children:Object(je.jsx)(pt.a,{dense:!1,children:T!==[]?T.map((function(e,t){return Object(je.jsx)(Ct.Provider,{value:{task:e,setTask:W},children:Object(je.jsx)(We.a,{children:Object(je.jsxs)(Pe.a,{container:!0,children:[Object(je.jsx)(Dt,{}),Object(je.jsx)(Pe.a,{item:!0,xs:1,children:Object(je.jsx)(yt.a,{id:String(e.id),onClick:function(){return t=e.id,void _(T.filter((function(e){return e.id!==t})));var t},sx:{mt:1},color:"primary",fontSize:"large"})})]})})},t)})):null})})}),Object(je.jsx)(lt.a,{variant:"contained",startIcon:Object(je.jsx)(gt.a,{}),sx:{m:1,p:1,width:120},onClick:function(){var e=T.map((function(e){return e.id})),t={id:(T.length>0?Math.max.apply(Math,Object(b.a)(e)):0)+1,user:w,master:0,person:"",date:x.dateString,update:!0};_([].concat(Object(b.a)(T),[t]))},children:g.task.add}),Object(je.jsx)(lt.a,{variant:"contained",startIcon:Object(je.jsx)(wt.a,{}),sx:{m:1,p:1,width:120},onClick:function(){var e=T.map((function(e){return e.id})),t=T.filter((function(e){return!C.includes(e.id)})),n=y.filter((function(t){return!e.includes(t.id)})),a={editTaskList:T.filter((function(e){return C.includes(e.id)})).filter((function(e){return!0===e.update})),newTaskList:t,date:O(r).dateString,token:L};f(K(a)),n.length>0&&n.forEach((function(e){var t={content:e,date:O(r).dateString,token:L};f(Q(t))})),f(V(x.dateString)),_(k.tasks),d(!0),setTimeout((function(){h(!0)}),1e3),setTimeout((function(){d(!1)}),2e3)},children:g.task.save}),Object(je.jsx)(Pt,{isDisplay:o}),Object(je.jsx)(Lt,{isDisplay:p})]})},Dt=function(){var e=Object(a.useContext)(Ct),t=e.task,n=e.setTask,r=l(q).masters,s=function(e){var t=r.find((function(t){return t.id===e}));return t?t.name:""},c=Object(a.useState)(s(t.master)),i=Object(be.a)(c,2),o=i[0],d=i[1],u=Object(a.useState)(t.person),j=Object(be.a)(u,2),m=j[0],b=j[1],p=function(e,a){var r=e||t.master,s=a||t.person,c={id:t.id,update:!0,user:t.user,master:r,person:s,date:t.date};n(c)};return Object(a.useEffect)((function(){b(t.person),d(s(t.master))}),[t]),Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Pe.a,{item:!0,xs:7,children:Object(je.jsxs)(ct.a,{fullWidth:!0,children:[Object(je.jsx)(it.a,{id:"master-select-label",children:g.task.master}),Object(je.jsx)(ot.a,{labelId:"master-select-label",value:o,label:"Master",onChange:function(e){var n=String(e.target.value);d(n);var a=function(e){var t=r.find((function(t){return t.name===e}));return Number(t?t.id:0)}(n);p(a,t.person)},id:String(t.id),children:r!==[]?r.map((function(e,t){return Object(je.jsx)(dt.a,{value:e.name,children:e.name},t)})):Object(je.jsx)(dt.a,{value:"No Available Master",children:"-"})})]})}),Object(je.jsx)(Pe.a,{item:!0,xs:4,sx:{px:1},children:Object(je.jsxs)(ct.a,{fullWidth:!0,children:[Object(je.jsx)(it.a,{id:"person-select-label",children:g.task.person}),Object(je.jsxs)(ot.a,{labelId:"person-select-label",value:m,label:"Person",onChange:function(e){var n=String(e.target.value);b(n),p(t.master,n)},id:String(t.id),children:[Object(je.jsx)(dt.a,{value:"dad",children:g.common.dad}),Object(je.jsx)(dt.a,{value:"mom",children:g.common.mom})]})]})})]})},Tt=n(437),_t=n(434),Lt=function(e){var t=e.isDisplay,n=Object(a.useState)(t),r=Object(be.a)(n,2),s=r[0],c=r[1];return Object(je.jsx)(Tt.a,{open:s,autoHideDuration:3e3,onClose:function(){return c(!1)},sx:{zIndex:30},children:Object(je.jsx)(_t.a,{onClose:function(){return c(!1)},severity:"success",sx:{width:"100%"},children:g.common.message})})},Wt=n(445),Et=n(463),Pt=function(e){var t=e.isDisplay,n=Object(a.useState)(t),r=Object(be.a)(n,2),s=r[0];r[1];return Object(je.jsx)(Wt.a,{open:s,sx:{display:"flex",zIndex:20},children:Object(je.jsx)(Et.a,{})})},It=n(450),Ft=n(220),Mt=n.n(Ft),Nt=n(221),Rt=n.n(Nt),Ht=function(){var e=u();Object(a.useEffect)((function(){e(Y()),e($())}),[]);var t=l(q),n=l(ee),r=function(e){return e.reduce((function(e,n){return e+function(e){var n=t.masters.find((function(t){return t.id===e}));return n?n.point:0}(n.master)}),0)},s=function(e,t){var n=t.filter((function(t){return t.date===e}));return{points:r(n),tasks:n.length}},c={dad_week_points:r(n.dad.week),mom_week_points:r(n.mom.week),dad_month_points:r(n.dad.month),mom_month_points:r(n.mom.month)},i=function(){var e=new Date,t=[],a=[],r=[],c=[];return Object(b.a)(Array(7)).map((function(i,o){var d=7-o,u=O(Object(p.a)(e,d)).dateString;t.push(s(u,n.dad.week).points),a.push(s(u,n.mom.week).points),r.push(s(u,n.dad.week).tasks),c.push(s(u,n.mom.week).tasks)})),{dad_points:t,mom_points:a,dad_tasks:r,mom_tasks:c}}();return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(te.a,{sx:{pt:7},children:Object(je.jsx)("img",{src:x+"mv.jpg",alt:"",width:"100%"})}),Object(je.jsxs)(bt.a,{sx:{pb:16,pt:4},children:[Object(je.jsx)(se.a,{variant:"h4",component:"h2",sx:{paddingBlock:4},children:g.home.title1}),Object(je.jsxs)(Pe.a,{container:!0,spacing:2,children:[Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(It.a,{children:Object(je.jsxs)(te.a,{sx:{p:4},children:[Object(je.jsx)(se.a,{variant:"h6",component:"h3",sx:{pb:2},children:g.home.sub1}),Object(je.jsx)(De,{dad:c.dad_week_points,mom:c.mom_week_points})]})})}),Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(It.a,{children:Object(je.jsxs)(te.a,{sx:{p:4},children:[Object(je.jsx)(se.a,{variant:"h6",component:"h3",sx:{pb:2},children:g.home.sub2}),Object(je.jsx)(De,{dad:c.dad_month_points,mom:c.mom_month_points})]})})})]}),Object(je.jsx)(se.a,{variant:"h4",component:"h2",sx:{pt:8,pb:4},children:g.home.title2}),Object(je.jsxs)(se.a,{variant:"h6",component:"h3",children:[Object(je.jsx)(Mt.a,{}),g.home.sub3]}),Object(je.jsxs)(Pe.a,{container:!0,spacing:2,sx:{mb:8},children:[Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(_e,{chartData:i.dad_points})}),Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(Le,{chartData:i.dad_tasks})})]}),Object(je.jsxs)(se.a,{variant:"h6",component:"h3",children:[Object(je.jsx)(Rt.a,{}),g.home.sub4]}),Object(je.jsxs)(Pe.a,{container:!0,spacing:2,sx:{mb:8},children:[Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(_e,{chartData:i.mom_points})}),Object(je.jsx)(Pe.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(je.jsx)(Le,{chartData:i.mom_tasks})})]})]})]})},Jt=n(222),At=n.n(Jt),Gt=function(){var e=Object(o.f)(),t=u(),n=l(M),a=n.userData;return Object(je.jsx)(bt.a,{sx:{pb:20,pt:10},children:a?Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)("h1",{}),Object(je.jsxs)(se.a,{variant:"h4",component:"h1",sx:{flexGrow:1},children:[g.account.welcome+a.username," !"]}),Object(je.jsx)(se.a,{variant:"h6",component:"p",sx:{flexGrow:1,my:4,px:2},children:g.account.email+": "+a.email}),Object(je.jsx)(lt.a,{variant:"contained",startIcon:Object(je.jsx)(At.a,{}),sx:{m:1,p:1,width:120},onClick:function(){t(W(n)),e.push(f)},children:g.account.logout})]}):null})},zt=n(224),qt=n(447),Xt=n(430),Bt=n(464),Ut=n(435),Vt=n(465),Yt=n(223),$t=n.n(Yt),Kt=function(){var e=Object(zt.a)(),t=Object(o.f)(),n=u(),r=Object(a.useState)(!1),s=Object(be.a)(r,2),c=s[0],i=s[1],d=Object(a.useState)(!1),l=Object(be.a)(d,2),j=l[0],m=l[1];return Object(je.jsxs)(te.a,{sx:{backgroundImage:"url('".concat(x,"login.jpg')"),backgroundPosition:"bottom center",minHeight:"100vh",pt:12},children:[Object(je.jsx)(qt.a,{theme:e,children:Object(je.jsxs)(bt.a,{component:"main",maxWidth:"xs",children:[Object(je.jsx)(Xt.a,{}),Object(je.jsxs)(te.a,{sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(255, 255, 255, .8)",borderRadius:"4px"},children:[Object(je.jsx)(Fe.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(je.jsx)($t.a,{})}),Object(je.jsx)(se.a,{component:"h1",variant:"h5",children:g.login.title}),Object(je.jsxs)(te.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a={username:String(t.get("user")),password:String(t.get("password"))};n(L(a)),i(!0),setTimeout((function(){m(!0)}),1e3),setTimeout((function(){i(!1)}),2e3)},noValidate:!0,sx:{mt:1},children:[Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,id:"user",label:g.login.user,name:"user",autoComplete:"user",autoFocus:!0}),Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:g.login.password,type:"password",id:"password",autoComplete:"current-password"}),Object(je.jsx)(Bt.a,{control:Object(je.jsx)(Ut.a,{value:"remember",color:"primary"}),label:g.login.remember}),Object(je.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:g.login.signin}),Object(je.jsxs)(Pe.a,{container:!0,children:[Object(je.jsx)(Pe.a,{item:!0,xs:!0,children:Object(je.jsx)(Vt.a,{href:"#",variant:"body2",children:g.login.forgot})}),Object(je.jsx)(Pe.a,{item:!0,children:Object(je.jsx)(Vt.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),t.push("/web/register")},children:g.login.create})})]})]})]})]})}),Object(je.jsx)(Pt,{isDisplay:c}),Object(je.jsx)(Lt,{isDisplay:j})]})},Qt=function(){var e=Object(zt.a)(),t=Object(o.f)(),n=u(),r=Object(a.useState)(!1),s=Object(be.a)(r,2),c=s[0],i=s[1],d=Object(a.useState)(!1),l=Object(be.a)(d,2),j=l[0],m=l[1];return Object(je.jsxs)(te.a,{sx:{backgroundImage:"url('".concat(x,"login.jpg')"),backgroundPosition:"bottom center",minHeight:"100vh",pt:12},children:[Object(je.jsx)(qt.a,{theme:e,children:Object(je.jsxs)(bt.a,{component:"main",maxWidth:"xs",children:[Object(je.jsx)(Xt.a,{}),Object(je.jsxs)(te.a,{sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(255, 255, 255, .8)",borderRadius:"4px"},children:[Object(je.jsx)(Fe.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(je.jsx)(le.a,{})}),Object(je.jsx)(se.a,{component:"h1",variant:"h5",children:g.register.title}),Object(je.jsxs)(te.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a={username:String(t.get("user")),email:String(t.get("email")),password1:String(t.get("password")),password2:String(t.get("password_confirm"))};n(E(a)),i(!0),setTimeout((function(){m(!0)}),1e3),setTimeout((function(){i(!1)}),2e3)},noValidate:!0,sx:{mt:1},children:[Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,id:"user",label:g.register.user,name:"user",autoComplete:"user",autoFocus:!0}),Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:g.register.email,name:"email",autoComplete:"email",autoFocus:!0}),Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:g.register.password1,type:"password",id:"password",autoComplete:"current-password"}),Object(je.jsx)(st.a,{margin:"normal",required:!0,fullWidth:!0,name:"password_confirm",label:g.register.password2,type:"password",id:"password_confirm",autoComplete:"current-password"}),Object(je.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:g.register.create}),Object(je.jsx)(Pe.a,{container:!0,children:Object(je.jsx)(Pe.a,{item:!0,children:Object(je.jsx)(Vt.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),t.push("/web/login")},children:g.register.already})})})]})]})]})}),Object(je.jsx)(Pt,{isDisplay:c}),Object(je.jsx)(Lt,{isDisplay:j})]})},Zt=function(){var e=Object(o.f)(),t=l(q).masters;return Object(je.jsx)(bt.a,{maxWidth:"sm",sx:{pt:10,pb:20},children:Object(je.jsx)(Pe.a,{container:!0,spacing:2,children:Object(je.jsxs)(Pe.a,{item:!0,xs:12,children:[Object(je.jsx)(pt.a,{dense:!0,children:t!==[]?t.map((function(e,t){return Object(je.jsx)(rt,{master:e},t)})):null}),Object(je.jsx)(lt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,pt:1,pb:1,width:200},onClick:function(){e.push("/web/master/new")},startIcon:Object(je.jsx)(gt.a,{}),children:g.master.add})]})})})},en=function(){var e=Object(o.h)(),t=l(q),n=Object(a.useContext)(tn).user,r=n.userData?n.userData.pk:0,s=t.masters,c=e.params.masterID,i=s.find((function(e){return e.id===Number(c)})),d=i||{id:null,user:r,type:"",name:"",point:0};return Object(je.jsx)(bt.a,{maxWidth:"sm",sx:{mt:10},children:Object(je.jsx)(jt,{master:d})})},tn=(n(359),Object(a.createContext)({})),nn=function(){var e=Object(o.f)(),t=u(),n=l(M),r="1"===m.a.get("isLogined");return Object(a.useEffect)((function(){r?(t(P()),t(H()),t(N()),e.push(f),t(S(0))):(e.push("/web/login"),t(S(3)))}),[r,t]),Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(tn.Provider,{value:{user:n},children:[Object(je.jsx)(v,{}),Object(je.jsx)(me,{isLogined:r}),Object(je.jsxs)(o.c,{children:[Object(je.jsx)(o.a,{exact:!0,path:f,component:Ht}),Object(je.jsx)(o.a,{path:"/web/login",component:Kt}),Object(je.jsx)(o.a,{path:"/web/register",component:Qt}),Object(je.jsx)(o.a,{path:"/web/account",component:Gt}),Object(je.jsx)(o.a,{path:"/web/masters",component:Zt}),Object(je.jsx)(o.a,{path:"/web/master/:masterID",component:en}),Object(je.jsx)(o.a,{path:"/web/task",component:St})]}),Object(je.jsx)(Ce,{})]})})},an=Object(w.a)({reducer:{user:F,master:z,task:Z,navigator:y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(je.jsx)(r.a.StrictMode,{children:Object(je.jsx)(d.a,{store:an,children:Object(je.jsx)(i.a,{children:Object(je.jsx)(nn,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[360,1,2]]]);
//# sourceMappingURL=main.e83ca5ce.chunk.js.map