(this["webpackJsonpreact-housework"]=this["webpackJsonpreact-housework"]||[]).push([[0],{246:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(57),s=n.n(c),o=n(50),i=(n(246),n(22)),d=n(106),u=function(){return Object(d.b)()},l=d.c,j=n(46),m=n.n(j),b=n(17),p=n(413),h="https://housework-manager-app.herokuapp.com/",f="/web/",x="../static/";function O(e){var t=e||new Date,n=t.getFullYear(),a=("00"+(t.getMonth()+1)).slice(-2),r=("00"+t.getDate()).slice(-2);return{dateOrigin:t,dateString:n+"-"+a+"-"+r,dateNumbner:Number(n+a+r)}}var g="ja-JP"===(window.navigator.languages&&window.navigator.languages[0]||window.navigator.language)?{common:{site:"\u5bb6\u4e8b\u30de\u30cd\u30fc\u30b8\u30e3\u30fc",dad:"\u30d1\u30d1",mom:"\u30de\u30de",message:"\u6210\u529f\u3057\u307e\u3057\u305f",menu:{home:"\u30db\u30fc\u30e0",task:"\u30bf\u30b9\u30af",master:"\u9805\u76ee",account:"\u30e6\u30fc\u30b6\u30fc"},category:{cook:"\u6599\u7406",bath:"\u98a8\u5442",delivery:"\u9001\u8fce",clean:"\u6383\u9664",laundry:"\u200e\u6d17\u6fef",sleep:"\u5c31\u5bdd",wash:"\u6d17\u3044\u7269",child:"\u5b50\u4f9b",others:"\u305d\u306e\u4ed6"},chart:{pie:"\u30b5\u30de\u30ea\u30fc",line:"\u5148\u9031\u306e\u30bf\u30b9\u30af\u5b9f\u7e3e",bar:"\u5148\u9031\u306e\u30dd\u30a4\u30f3\u30c8\u5b9f\u7e3e"},error:{login:"\u30ed\u30b0\u30a4\u30f3\u30a8\u30e9\u30fc",register:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u30a8\u30e9\u30fc"}},home:{title1:"\u5bb6\u4e8b\u62c5\u5f53\u30d0\u30e9\u30f3\u30b9",title2:"\u30dd\u30a4\u30f3\u30c8\u30b5\u30de\u30ea\u30fc",sub1:"\u5148\u9031\u306e\u30b5\u30de\u30ea\u30fc",sub2:"\u5148\u6708\u306e\u30b5\u30de\u30ea\u30fc",sub3:"\u30d1\u30d1\u306e\u30b5\u30de\u30ea\u30fc",sub4:"\u30de\u30de\u306e\u30b5\u30de\u30ea\u30fc"},task:{date:"\u65e5\u4ed8\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044",master:"\u9805\u76ee",person:"\u62c5\u5f53",add:"\u8ffd\u52a0",save:"\u4fdd\u5b58"},master:{add:"\u9805\u76ee\u3092\u8ffd\u52a0",name:"\u9805\u76ee\u540d",type:"\u7a2e\u985e",point:"\u30dd\u30a4\u30f3\u30c8\u6570",save:"\u4fdd\u5b58"},account:{welcome:"\u3088\u3046\u3053\u305d",email:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",logout:"\u30ed\u30b0\u30a2\u30a6\u30c8"},login:{title:"\u30ed\u30b0\u30a4\u30f3",user:"\u30e6\u30fc\u30b6\u30fc\u540d",password:"\u30d1\u30b9\u30ef\u30fc\u30c9",remember:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u4fdd\u5b58",signin:"\u30ed\u30b0\u30a4\u30f3",forgot:"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f",create:"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210"},register:{title:"\u767b\u9332",user:"\u30e6\u30fc\u30b6\u30fc\u540d",email:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",password1:"\u30d1\u30b9\u30ef\u30fc\u30c9",password2:"\u30d1\u30b9\u30ef\u30fc\u30c9\u78ba\u8a8d",create:"\u4f5c\u6210",already:"\u3059\u3067\u306b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3063\u3066\u3044\u308b"}}:{common:{site:"Housework Manager",dad:"Dad",mom:"Mom",message:"Sucessed!",menu:{home:"Home",task:"Task",master:"Master",account:"Account"},category:{cook:"Cook",bath:"Bath",delivery:"Delivery",clean:"Clean",laundry:"\u200eLaundry",sleep:"Sleep",wash:"Wash",child:"Child",others:"Others"},chart:{pie:"Summary Report",line:"Tasks done last week",bar:"Points got last week"},error:{login:"Login error!",register:"Register error!"}},home:{title1:"Workload Report",title2:"Point Summary",sub1:"Last week summary",sub2:"Last month summary",sub3:"Dad's Summary",sub4:"Mom's Summary"},task:{date:"Select Date",master:"Master",person:"Person",add:"Add",save:"Save"},master:{add:"Add a new master",name:"Name",type:"Type",point:"Points",save:"Save"},account:{welcome:"Welcome",email:"Email",logout:"Logout"},login:{title:"Login",user:"User",password:"Password",remember:"Remember me",signin:"Sign in",forgot:"Forgot password",create:"Create an account"},register:{title:"Register",user:"User",email:"Email",password1:"Password",password2:"Password Confirm",create:"Create",already:"Already have an account"}};function v(){var e=Object(i.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}var w=n(30),k=Object(w.c)({name:"navigator",initialState:{currentPage:0},reducers:{changeNavigation:function(e,t){e.currentPage=t.payload}}}),y=k.reducer,C=function(e){return e.navigator},S=k.actions.changeNavigation,D=n(23),L=n.n(D),T=n(39),_=Object(w.b)("user/userLogin",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/login/",{method:"POST",credentials:"include",body:JSON.stringify({username:t.username,password:t.password}),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:if(!(n=e.sent).key){e.next=7;break}return e.abrupt("return",n);case 7:throw new Error("Login error");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=Object(w.b)("user/userLogout",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/logout/",{method:"POST",credentials:"include",headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=Object(w.b)("user/userRegister",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/registration/",{method:"POST",credentials:"include",body:JSON.stringify({username:t.username,email:t.email,password1:t.password1,password2:t.password2}),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(w.b)("user/getUserData",Object(T.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"rest-auth/user/",{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))),I=Object(w.c)({name:"user",initialState:{isLogined:!1,error:"",token:"",userData:null},reducers:{},extraReducers:function(e){e.addCase(_.fulfilled,(function(e,t){e.isLogined=!0,m.a.set("isLogined","1",{expires:90});var n=m.a.get("csrftoken");e.token=n||""})),e.addCase(W.fulfilled,(function(e,t){e.isLogined=!1,e.userData=null,e.error="",m.a.remove("isLogined"),m.a.remove("csrftoken"),m.a.remove("sessionid")})),e.addCase(E.fulfilled,(function(e,t){e.isLogined=!0,m.a.set("isLogined","1",{expires:90})})),e.addCase(P.fulfilled,(function(e,t){e.userData=t.payload})),e.addCase(_.pending,(function(e){e.error="Login error"})),e.addCase(_.rejected,(function(e){e.error="Login error"})),e.addCase(W.pending,(function(){})),e.addCase(W.rejected,(function(){})),e.addCase(E.pending,(function(e){e.error="Register error"})),e.addCase(E.rejected,(function(e){e.error="Register error"})),e.addCase(P.pending,(function(){})),e.addCase(P.rejected,(function(){}))}}).reducer,F=function(e){return e.user},M=n(124),R=(m.a.get("csrftoken"),Object(w.b)("master/getMasterList",Object(T.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/",{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))))),N=Object(w.b)("master/addMaster",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/",{method:"POST",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),H=Object(w.b)("master/editMaster",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/"+String(t.content.id)+"/",{method:"PUT",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=Object(w.b)("master/removeMaster",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+"api/masters/"+String(t.content.id)+"/",{method:"DELETE",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json"})}).then((function(e){return e.json()}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),A=Object(w.c)({name:"master",initialState:{masters:[]},reducers:{},extraReducers:function(e){e.addCase(R.fulfilled,(function(e,t){e.masters=t.payload})),e.addCase(N.fulfilled,(function(e,t){e.masters=[].concat(Object(b.a)(e.masters),[t.payload])})),e.addCase(H.fulfilled,(function(e,t){e.masters=e.masters.filter((function(e){return e.id!==t.payload.id})),e.masters=[].concat(Object(b.a)(e.masters),[t.payload])})),e.addCase(J.fulfilled,(function(e,t){e.masters=e.masters.filter((function(e){return e.id!==t.payload.id}))})),e.addCase(R.pending,(function(){})),e.addCase(R.rejected,(function(){})),e.addCase(N.pending,(function(){})),e.addCase(N.rejected,(function(){})),e.addCase(H.pending,(function(){})),e.addCase(H.rejected,(function(){})),e.addCase(J.pending,(function(){})),e.addCase(J.rejected,(function(){}))}}).reducer,G=function(e){return e.master},z=(Object(M.a)((function(e){return e.master}),(function(e,t){return t}),(function(e,t){return e.masters.find((function(e){return e.id===t}))})),Object(M.a)((function(e){return e.master}),(function(e,t){return t}),(function(e,t){return e.masters.find((function(e){return e.name===t}))})),n(414)),q=n(415),X=function(){var e=new Date,t=O(Object(p.a)(e,1)).dateString;return{startWeek:O(Object(z.a)(e,1)).dateString,startMonth:O(Object(q.a)(e,1)).dateString,endDate:t}},B=Object(w.b)("task/getTaskList",function(){var e=Object(T.a)(L.a.mark((function e(t){var n,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"api/tasks/?start_date=").concat(t,"&end_date=").concat(t),e.next=3,fetch(n,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return(a=e.sent).forEach((function(e){e.update=!1})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(w.b)("task/getWeeklyTaskList",Object(T.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h,"api/tasks/?start_date=").concat(X().startWeek,"&end_date=").concat(X().endDate),e.next=3,fetch(t,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),V=Object(w.b)("task/getMonthlyTaskList",Object(T.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(h,"api/tasks/?start_date=").concat(X().startMonth,"&end_date=").concat(X().endDate),e.next=3,fetch(t,{method:"GET",credentials:"include",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),Y=Object(w.b)("task/changeTaskList",function(){var e=Object(T.a)(L.a.mark((function e(t){var n,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],t.editTaskList.forEach((function(e){n.push({id:e.id,user:e.user,master:e.master,person:e.person,date:e.date})})),t.newTaskList.forEach((function(e){n.push({user:e.user,master:e.master,person:e.person,date:e.date})})),e.next=5,fetch(h+"api/tasks/",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()}));case 5:return a=e.sent,r={content:a,date:t.date},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$=Object(w.b)("task/deleteTask",function(){var e=Object(T.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"api/tasks/").concat(String(t.content.id),"/?start_date=").concat(t.date,"&end_date=").concat(t.date),e.next=3,fetch(n,{method:"DELETE",credentials:"include",body:JSON.stringify(t.content),headers:new Headers({"Content-type":"application/json","X-CSRFToken":t.token})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){console.error("Error:",e)}));case 3:return e.sent,e.abrupt("return",t.content.id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(w.c)({name:"task",initialState:{tasks:[],dad:{week:[],month:[]},mom:{week:[],month:[]}},reducers:{},extraReducers:function(e){e.addCase(B.fulfilled,(function(e,t){e.tasks=t.payload})),e.addCase(U.fulfilled,(function(e,t){var n=t.payload;e.dad.week=n.filter((function(e){return"dad"===e.person})),e.mom.week=n.filter((function(e){return"mom"===e.person}))})),e.addCase(V.fulfilled,(function(e,t){var n=t.payload;e.dad.month=n.filter((function(e){return"dad"===e.person})),e.mom.month=n.filter((function(e){return"mom"===e.person}))})),e.addCase(Y.fulfilled,(function(e,t){var n=t.payload.content;e.tasks=n.filter((function(e){return e.date===t.payload.date}))})),e.addCase($.fulfilled,(function(e,t){console.log("call sucess");var n=Number(t.payload);e.tasks=e.tasks.filter((function(e){return e.id!==n}))})),e.addCase(B.pending,(function(){})),e.addCase(B.rejected,(function(){})),e.addCase(U.pending,(function(){})),e.addCase(U.rejected,(function(){})),e.addCase(V.pending,(function(){})),e.addCase(V.rejected,(function(){})),e.addCase(Y.pending,(function(){})),e.addCase(Y.rejected,(function(){})),e.addCase($.pending,(function(){})),e.addCase($.rejected,(function(){}))}}).reducer,Q=function(e){return e.task},Z=n(448),ee=n(449),te=n(451),ne=n(452),ae=n(142),re=n(128),ce=n.n(re),se=n(200),oe=n.n(se),ie=n(129),de=n.n(ie),ue=n(0),le=function(e){var t=e.isLogined,n=Object(i.f)(),a=u();return Object(ue.jsx)(Z.a,{sx:{flexGrow:1,position:"fixed",width:"100%",top:0,zIndex:10},children:Object(ue.jsx)(ee.a,{position:"static",children:Object(ue.jsxs)(te.a,{children:[Object(ue.jsx)(ne.a,{edge:"start",color:"inherit","aria-label":"logo",children:Object(ue.jsx)(ce.a,{})}),Object(ue.jsx)(ae.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:g.common.site}),t?Object(ue.jsx)(ne.a,{size:"large",color:"inherit","aria-label":"login",onClick:function(){n.push("/web/account"),a(S(3))},children:Object(ue.jsx)(de.a,{})}):Object(ue.jsx)(ne.a,{size:"large",color:"inherit","aria-label":"login",onClick:function(){n.push("/web/login"),a(S(3))},children:Object(ue.jsx)(oe.a,{})})]})})})},je=n(12),me=n(453),be=n(454),pe=n(201),he=n.n(pe),fe=n(203),xe=n.n(fe),Oe=n(202),ge=n.n(Oe),ve=n(204),we=n.n(ve),ke=function(){var e=u(),t=Object(i.f)(),n=l(C).currentPage,r=Object(a.useState)(n),c=Object(je.a)(r,2),s=c[0],o=c[1],d=[f,"/web/task","/web/masters","/web/account"],j="1"===m.a.get("isLogined");Object(a.useEffect)((function(){o(n)}),[n]);return Object(ue.jsx)(Z.a,{children:Object(ue.jsxs)(me.a,{sx:{background:"#efefef",position:"fixed",width:"100%",bottom:0,minHeight:80,zIndex:10},showLabels:!0,value:s,onChange:function(n,a){return r=a,void(j?(o(r),e(S(r)),t.push(d[r])):(o(3),e(S(3)),t.push("/web/login")));var r},children:[Object(ue.jsx)(be.a,{label:g.common.menu.home,icon:Object(ue.jsx)(he.a,{})}),Object(ue.jsx)(be.a,{label:g.common.menu.task,icon:Object(ue.jsx)(ge.a,{})}),Object(ue.jsx)(be.a,{label:g.common.menu.master,icon:Object(ue.jsx)(xe.a,{})}),Object(ue.jsx)(be.a,{label:g.common.menu.account,icon:Object(ue.jsx)(we.a,{})})]})})},ye=n(95),Ce=function(e){var t=e.dad,n=e.mom,a={labels:[g.common.dad,g.common.mom],datasets:[{label:g.common.chart.pie,data:[t,n],backgroundColor:["rgb(66, 165, 245, 0.6)","rgb(255, 112, 67, 0.6)"],borderColor:["rgb(66, 165, 245)","rgb(255, 112, 67)"],borderWidth:1}]};return Object(ue.jsx)(ye.c,{data:a})},Se=n(96),De=function(e){var t=e.chartData,n=new Date,a=[];Object(b.a)(Array(7)).map((function(e,t){var r=7-t,c=Object(Se.a)(O(Object(p.a)(n,r)).dateOrigin,"eee");a.push(String(c))}));var r={labels:a,datasets:[{label:g.common.chart.bar,data:t,backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(255, 99, 132, 1)"],borderWidth:1}]};return Object(ue.jsx)(ye.a,{data:r})},Le=function(e){var t=e.chartData,n=new Date,a=[];Object(b.a)(Array(7)).map((function(e,t){var r=7-t,c=Object(Se.a)(O(Object(p.a)(n,r)).dateOrigin,"eee");a.push(String(c))}));var r={labels:a,datasets:[{label:g.common.chart.line,data:t,fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(ue.jsx)(ye.b,{data:r})},Te=n(438),_e=n(420),We=n(442),Ee=n(455),Pe=n(443),Ie=n(421),Fe=n(422),Me=n(423),Re=n(215),Ne=n.n(Re),He=n(208),Je=n.n(He),Ae=n(209),Ge=n.n(Ae),ze=n(210),qe=n.n(ze),Xe=n(207),Be=n.n(Xe),Ue=n(211),Ve=n.n(Ue),Ye=n(212),$e=n.n(Ye),Ke=n(168),Qe=n.n(Ke),Ze=n(213),et=n.n(Ze),tt=[{name:"cook",display:g.common.category.cook,icon:Object(ue.jsx)(Be.a,{})},{name:"bath",display:g.common.category.bath,icon:Object(ue.jsx)(Je.a,{})},{name:"delivery",display:g.common.category.delivery,icon:Object(ue.jsx)(Ge.a,{})},{name:"clean",display:g.common.category.clean,icon:Object(ue.jsx)(ce.a,{})},{name:"\u200elaundry",display:g.common.category.laundry,icon:Object(ue.jsx)(qe.a,{})},{name:"sleep",display:g.common.category.sleep,icon:Object(ue.jsx)(Ve.a,{})},{name:"wash",display:g.common.category.wash,icon:Object(ue.jsx)($e.a,{})},{name:"child",display:g.common.category.child,icon:Object(ue.jsx)(et.a,{})},{name:"others",display:g.common.category.others,icon:Object(ue.jsx)(Qe.a,{})}],nt=function(e){var t=Object(i.f)(),n=e.master;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Te.a,{sx:{pt:2,pb:2},children:Object(ue.jsx)(_e.a,{component:"a",onClick:function(){t.push("".concat(f,"master/").concat(n.id))},children:Object(ue.jsxs)(We.a,{container:!0,spacing:2,children:[Object(ue.jsx)(We.a,{item:!0,xs:2,children:Object(ue.jsx)(Ee.a,{children:Object(ue.jsx)(Pe.a,{children:function(e){var t=tt.find((function(t){return t.name===e}));return t?t.icon:Object(ue.jsx)(Qe.a,{})}(n.type)})})}),Object(ue.jsx)(We.a,{item:!0,xs:6,children:Object(ue.jsx)(Ie.a,{primary:n.name,secondary:function(e){var t=tt.find((function(t){return t.name===e}));return t?t.display:g.common.category.others}(n.type)})}),Object(ue.jsx)(We.a,{item:!0,xs:1,children:Object(ue.jsx)(Fe.a,{sx:{pt:2},children:Object(ue.jsx)(Ne.a,{})})}),Object(ue.jsx)(We.a,{item:!0,xs:3,children:Object(ue.jsx)(Ie.a,{primary:n.point,sx:{pt:2}})})]})})}),Object(ue.jsx)(Me.a,{variant:"inset",component:"li"})]})},at=n(439),rt=n(458),ct=n(440),st=n(433),ot=n(460),it=n(436),dt=n(461),ut=function(e){var t=Object(i.f)(),n=e.master,r=Object(a.useState)(n.name),c=Object(je.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(n.type),l=Object(je.a)(d,2),j=l[0],m=l[1],b=Object(a.useState)(n.point),p=Object(je.a)(b,2),h=p[0],f=p[1],x=u(),O=Object(a.useContext)(Yt).user,v=O.userData?O.userData.pk:0,w=O.token;return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Z.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:Object(ue.jsxs)(ae.a,{component:"h1",variant:"h5",children:["ID: ",n.id]})}),Object(ue.jsx)(Z.a,{component:"form",sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},noValidate:!0,autoComplete:"off",children:Object(ue.jsx)(at.a,{id:"outlined-basic",label:g.master.name,variant:"outlined",value:s,onChange:function(e){return o(e.target.value)}})}),Object(ue.jsx)(Z.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:Object(ue.jsxs)(rt.a,{fullWidth:!0,children:[Object(ue.jsx)(ct.a,{id:"demo-simple-select-label",children:g.master.type}),Object(ue.jsx)(st.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:j,label:"Type",onChange:function(e){m(e.target.value)},children:Object.entries(g.common.category).map((function(e){var t=Object(je.a)(e,2),n=t[0],a=t[1];return Object(ue.jsx)(ot.a,{value:n,children:a},n)}))})]})}),Object(ue.jsxs)(Z.a,{sx:{"& > :not(style)":{m:1,pb:2,maxWidth:"40ch"}},children:[Object(ue.jsx)(it.a,{value:h,onChange:function(e,t){f(t)},"aria-label":"Point",valueLabelDisplay:"auto",step:5,min:5,max:50}),Object(ue.jsx)(ae.a,{component:"p",variant:"body2",children:g.master.point+": "+h})]}),Object(ue.jsx)(Z.a,{sx:{"& > :not(style)":{m:1,width:"25ch"}},children:Object(ue.jsx)(dt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,pt:1,pb:1,width:120},onClick:function(){var e={content:{user:v,type:j,name:s,point:h},token:w};if(n.id){var a={content:{id:n.id,user:v,type:j,name:s,point:h},token:w};x(H(a))}else x(N(e));t.push("/web/masters")},children:g.master.save})})]})},lt=n(83),jt=n(462),mt=n(459),bt=n(432),pt=n(429),ht=n(431),ft=n(133),xt=n.n(ft),Ot=n(219),gt=n.n(Ot),vt=n(218),wt=n.n(vt),kt=Object(a.createContext)({}),yt=function(){var e=new Date,t=Object(a.useState)(e),n=Object(je.a)(t,2),r=n[0],c=n[1],s=u(),o=O(r),i=Object(a.useContext)(Yt).user,d=i.userData?i.userData.pk:0,j=l(Q),m=j.tasks,p=m.map((function(e){return e.id})),h=Object(a.useState)([]),f=Object(je.a)(h,2),x=f[0],v=f[1],w=i.token,k=function(e){var t=x.filter((function(t){return t.id!==e.id}));console.log(t),t.push(e),t.sort((function(e,t){return e.id<t.id?-1:e.id>t.id?1:0})),v(t)};return Object(a.useEffect)((function(){v(j.tasks)}),[j,s]),Object(a.useEffect)((function(){v([]),s(B(o.dateString))}),[r,s]),Object(ue.jsxs)(jt.a,{maxWidth:"sm",sx:{pt:10,pb:20},children:[Object(ue.jsx)(pt.b,{dateAdapter:bt.a,children:Object(ue.jsx)(ht.a,{label:g.task.date,value:r,onChange:function(e){c(e)},renderInput:function(e){return Object(ue.jsx)(at.a,Object(lt.a)({},e))}})}),Object(ue.jsx)(We.a,{container:!0,children:Object(ue.jsx)(We.a,{item:!0,xs:12,children:Object(ue.jsx)(mt.a,{dense:!1,children:x!==[]?x.map((function(e,t){return Object(ue.jsx)(kt.Provider,{value:{task:e,setTask:k},children:Object(ue.jsx)(Te.a,{children:Object(ue.jsxs)(We.a,{container:!0,children:[Object(ue.jsx)(Ct,{}),Object(ue.jsx)(We.a,{item:!0,xs:1,children:Object(ue.jsx)(wt.a,{id:String(e.id),onClick:function(){return t=e.id,void v(x.filter((function(e){return e.id!==t})));var t},sx:{mt:1},color:"primary",fontSize:"large"})})]})})},t)})):null})})}),Object(ue.jsx)(dt.a,{variant:"contained",startIcon:Object(ue.jsx)(xt.a,{}),sx:{m:1,p:1,width:120},onClick:function(){var e=x.map((function(e){return e.id})),t={id:(x.length>0?Math.max.apply(Math,Object(b.a)(e)):0)+1,user:d,master:0,person:"",date:o.dateString,update:!0};v([].concat(Object(b.a)(x),[t]))},children:g.task.add}),Object(ue.jsx)(dt.a,{variant:"contained",startIcon:Object(ue.jsx)(gt.a,{}),sx:{m:1,p:1,width:120},onClick:function(){var e=x.map((function(e){return e.id})),t=x.filter((function(e){return!p.includes(e.id)})),n=m.filter((function(t){return!e.includes(t.id)})),a={editTaskList:x.filter((function(e){return p.includes(e.id)})).filter((function(e){return!0===e.update})),newTaskList:t,date:O(r).dateString,token:w};s(Y(a)),n.length>0&&n.forEach((function(e){var t={content:e,date:O(r).dateString,token:w};s($(t))})),s(B(o.dateString)),v(j.tasks)},children:g.task.save})]})},Ct=function(){var e=Object(a.useContext)(kt),t=e.task,n=e.setTask,r=l(G).masters,c=function(e){var t=r.find((function(t){return t.id===e}));return t?t.name:""},s=Object(a.useState)(c(t.master)),o=Object(je.a)(s,2),i=o[0],d=o[1],u=Object(a.useState)(t.person),j=Object(je.a)(u,2),m=j[0],b=j[1],p=function(e,a){var r=e||t.master,c=a||t.person,s={id:t.id,update:!0,user:t.user,master:r,person:c,date:t.date};n(s)};return Object(a.useEffect)((function(){b(t.person),d(c(t.master))}),[t]),Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(We.a,{item:!0,xs:7,children:Object(ue.jsxs)(rt.a,{fullWidth:!0,children:[Object(ue.jsx)(ct.a,{id:"master-select-label",children:g.task.master}),Object(ue.jsx)(st.a,{labelId:"master-select-label",value:i,label:"Master",onChange:function(e){var n=String(e.target.value);d(n);var a=function(e){var t=r.find((function(t){return t.name===e}));return Number(t?t.id:0)}(n);p(a,t.person)},id:String(t.id),children:r!==[]?r.map((function(e,t){return Object(ue.jsx)(ot.a,{value:e.name,children:e.name},t)})):Object(ue.jsx)(ot.a,{value:"No Available Master",children:"-"})})]})}),Object(ue.jsx)(We.a,{item:!0,xs:4,sx:{px:1},children:Object(ue.jsxs)(rt.a,{fullWidth:!0,children:[Object(ue.jsx)(ct.a,{id:"person-select-label",children:g.task.person}),Object(ue.jsxs)(st.a,{labelId:"person-select-label",value:m,label:"Person",onChange:function(e){var n=String(e.target.value);b(n),p(t.master,n)},id:String(t.id),children:[Object(ue.jsx)(ot.a,{value:"dad",children:g.common.dad}),Object(ue.jsx)(ot.a,{value:"mom",children:g.common.mom})]})]})})]})},St=n(437),Dt=n(434),Lt=(n(445),n(463),n(450)),Tt=n(220),_t=n.n(Tt),Wt=n(221),Et=n.n(Wt),Pt=function(){var e=u();Object(a.useEffect)((function(){e(U()),e(V())}),[]);var t=l(G),n=l(Q),r=function(e){return e.reduce((function(e,n){return e+function(e){var n=t.masters.find((function(t){return t.id===e}));return n?n.point:0}(n.master)}),0)},c=function(e,t){var n=t.filter((function(t){return t.date===e}));return{points:r(n),tasks:n.length}},s={dad_week_points:r(n.dad.week),mom_week_points:r(n.mom.week),dad_month_points:r(n.dad.month),mom_month_points:r(n.mom.month)},o=function(){var e=new Date,t=[],a=[],r=[],s=[];return Object(b.a)(Array(7)).map((function(o,i){var d=7-i,u=O(Object(p.a)(e,d)).dateString;t.push(c(u,n.dad.week).points),a.push(c(u,n.mom.week).points),r.push(c(u,n.dad.week).tasks),s.push(c(u,n.mom.week).tasks)})),{dad_points:t,mom_points:a,dad_tasks:r,mom_tasks:s}}();return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(Z.a,{sx:{pt:7},children:Object(ue.jsx)("img",{src:x+"mv.jpg",alt:"",width:"100%"})}),Object(ue.jsxs)(jt.a,{sx:{pb:16,pt:4},children:[Object(ue.jsx)(ae.a,{variant:"h4",component:"h2",sx:{paddingBlock:4},children:g.home.title1}),Object(ue.jsxs)(We.a,{container:!0,spacing:2,children:[Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(Lt.a,{children:Object(ue.jsxs)(Z.a,{sx:{p:4},children:[Object(ue.jsx)(ae.a,{variant:"h6",component:"h3",sx:{pb:2},children:g.home.sub1}),Object(ue.jsx)(Ce,{dad:s.dad_week_points,mom:s.mom_week_points})]})})}),Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(Lt.a,{children:Object(ue.jsxs)(Z.a,{sx:{p:4},children:[Object(ue.jsx)(ae.a,{variant:"h6",component:"h3",sx:{pb:2},children:g.home.sub2}),Object(ue.jsx)(Ce,{dad:s.dad_month_points,mom:s.mom_month_points})]})})})]}),Object(ue.jsx)(ae.a,{variant:"h4",component:"h2",sx:{pt:8,pb:4},children:g.home.title2}),Object(ue.jsxs)(ae.a,{variant:"h6",component:"h3",children:[Object(ue.jsx)(_t.a,{}),g.home.sub3]}),Object(ue.jsxs)(We.a,{container:!0,spacing:2,sx:{mb:8},children:[Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(De,{chartData:o.dad_points})}),Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(Le,{chartData:o.dad_tasks})})]}),Object(ue.jsxs)(ae.a,{variant:"h6",component:"h3",children:[Object(ue.jsx)(Et.a,{}),g.home.sub4]}),Object(ue.jsxs)(We.a,{container:!0,spacing:2,sx:{mb:8},children:[Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(De,{chartData:o.mom_points})}),Object(ue.jsx)(We.a,{item:!0,xs:12,sm:6,md:6,lg:6,xl:6,children:Object(ue.jsx)(Le,{chartData:o.mom_tasks})})]})]})]})},It=n(222),Ft=n.n(It),Mt=function(){var e=Object(i.f)(),t=u(),n=l(F),a=n.userData;return Object(ue.jsx)(jt.a,{sx:{pb:20,pt:10},children:a?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h1",{}),Object(ue.jsxs)(ae.a,{variant:"h4",component:"h1",sx:{flexGrow:1},children:[g.account.welcome+a.username," !"]}),Object(ue.jsx)(ae.a,{variant:"h6",component:"p",sx:{flexGrow:1,my:4,px:2},children:g.account.email+": "+a.email}),Object(ue.jsx)(dt.a,{variant:"contained",startIcon:Object(ue.jsx)(Ft.a,{}),sx:{m:1,p:1,width:120},onClick:function(){t(W(n)),e.push(f)},children:g.account.logout})]}):null})},Rt=n(224),Nt=n(447),Ht=n(430),Jt=n(464),At=n(435),Gt=n(465),zt=n(223),qt=n.n(zt),Xt=function(){var e=Object(Rt.a)(),t=Object(i.f)(),n=u(),r=Object(a.useContext)(Yt).user,c=(r.error,Object(a.useState)(!1)),s=Object(je.a)(c,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){r.isLogined&&(t.push("/web/account"),n(S(3))),""===r.error?d(!1):d(!0)}),[n,r]),Object(ue.jsxs)(Z.a,{sx:{backgroundImage:"url('".concat(x,"login.jpg')"),backgroundPosition:"bottom center",minHeight:"100vh",pt:12},children:[Object(ue.jsx)(Nt.a,{theme:e,children:Object(ue.jsxs)(jt.a,{component:"main",maxWidth:"xs",children:[Object(ue.jsx)(Ht.a,{}),Object(ue.jsxs)(Z.a,{sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(255, 255, 255, .8)",borderRadius:"4px"},children:[Object(ue.jsx)(Pe.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(ue.jsx)(qt.a,{})}),Object(ue.jsx)(ae.a,{component:"h1",variant:"h5",children:g.login.title}),Object(ue.jsxs)(Z.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a={username:String(t.get("user")),password:String(t.get("password"))};n(_(a))},noValidate:!0,sx:{mt:1},children:[Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,id:"user",label:g.login.user,name:"user",autoComplete:"user",autoFocus:!0}),Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:g.login.password,type:"password",id:"password",autoComplete:"current-password"}),Object(ue.jsx)(Jt.a,{control:Object(ue.jsx)(At.a,{value:"remember",color:"primary"}),label:g.login.remember}),Object(ue.jsx)(dt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:g.login.signin}),Object(ue.jsxs)(We.a,{container:!0,children:[Object(ue.jsx)(We.a,{item:!0,xs:!0,children:Object(ue.jsx)(Gt.a,{href:"#",variant:"body2",children:g.login.forgot})}),Object(ue.jsx)(We.a,{item:!0,children:Object(ue.jsx)(Gt.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),t.push("/web/register")},children:g.login.create})})]})]})]})]})}),Object(ue.jsx)(St.a,{open:o,autoHideDuration:3e3,onClose:function(){return d(!1)},sx:{zIndex:30,width:"90%"},children:Object(ue.jsx)(Dt.a,{onClose:function(){return d(!1)},severity:"error",sx:{width:"100%"},children:g.common.error.login})})]})},Bt=function(){var e=Object(Rt.a)(),t=Object(i.f)(),n=u(),r=Object(a.useContext)(Yt).user,c=(r.error,Object(a.useState)(!1)),s=Object(je.a)(c,2),o=s[0],d=s[1];return Object(a.useEffect)((function(){r.isLogined&&(t.push("/web/account"),n(S(3))),""===r.error?d(!1):d(!0)}),[n,r]),Object(ue.jsxs)(Z.a,{sx:{backgroundImage:"url('".concat(x,"login.jpg')"),backgroundPosition:"bottom center",minHeight:"100vh",pt:12},children:[Object(ue.jsx)(Nt.a,{theme:e,children:Object(ue.jsxs)(jt.a,{component:"main",maxWidth:"xs",children:[Object(ue.jsx)(Ht.a,{}),Object(ue.jsxs)(Z.a,{sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(255, 255, 255, .8)",borderRadius:"4px"},children:[Object(ue.jsx)(Pe.a,{sx:{m:1,bgcolor:"primary.main"},children:Object(ue.jsx)(de.a,{})}),Object(ue.jsx)(ae.a,{component:"h1",variant:"h5",children:g.register.title}),Object(ue.jsxs)(Z.a,{component:"form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),a={username:String(t.get("user")),email:String(t.get("email")),password1:String(t.get("password")),password2:String(t.get("password_confirm"))};n(E(a))},noValidate:!0,sx:{mt:1},children:[Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,id:"user",label:g.register.user,name:"user",autoComplete:"user",autoFocus:!0}),Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:g.register.email,name:"email",autoComplete:"email",autoFocus:!0}),Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:g.register.password1,type:"password",id:"password",autoComplete:"current-password"}),Object(ue.jsx)(at.a,{margin:"normal",required:!0,fullWidth:!0,name:"password_confirm",label:g.register.password2,type:"password",id:"password_confirm",autoComplete:"current-password"}),Object(ue.jsx)(dt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:g.register.create}),Object(ue.jsx)(We.a,{container:!0,children:Object(ue.jsx)(We.a,{item:!0,children:Object(ue.jsx)(Gt.a,{href:"#",variant:"body2",onClick:function(e){e.preventDefault(),t.push("/web/login")},children:g.register.already})})})]})]})]})}),Object(ue.jsx)(St.a,{open:o,autoHideDuration:3e3,onClose:function(){return d(!1)},sx:{zIndex:30,width:"90%"},children:Object(ue.jsx)(Dt.a,{onClose:function(){return d(!1)},severity:"error",sx:{width:"100%"},children:g.common.error.register})})]})},Ut=function(){var e=Object(i.f)(),t=l(G).masters;return Object(ue.jsx)(jt.a,{maxWidth:"sm",sx:{pt:10,pb:20},children:Object(ue.jsx)(We.a,{container:!0,spacing:2,children:Object(ue.jsxs)(We.a,{item:!0,xs:12,children:[Object(ue.jsx)(mt.a,{dense:!0,children:t!==[]?t.map((function(e,t){return Object(ue.jsx)(nt,{master:e},t)})):null}),Object(ue.jsx)(dt.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,pt:1,pb:1,width:200},onClick:function(){e.push("/web/master/new")},startIcon:Object(ue.jsx)(xt.a,{}),children:g.master.add})]})})})},Vt=function(){var e=Object(i.h)(),t=l(G),n=Object(a.useContext)(Yt).user,r=n.userData?n.userData.pk:0,c=t.masters,s=e.params.masterID,o=c.find((function(e){return e.id===Number(s)})),d=o||{id:null,user:r,type:"",name:"",point:0};return Object(ue.jsx)(jt.a,{maxWidth:"sm",sx:{mt:10},children:Object(ue.jsx)(ut,{master:d})})},Yt=(n(359),Object(a.createContext)({})),$t=function(){var e=Object(i.f)(),t=u(),n=l(F),r="1"===m.a.get("isLogined");return Object(a.useEffect)((function(){r?(t(P()),t(R())):(e.push("/web/login"),t(S(3)))}),[r,t]),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(Yt.Provider,{value:{user:n},children:[Object(ue.jsx)(v,{}),Object(ue.jsx)(le,{isLogined:r}),Object(ue.jsxs)(i.c,{children:[Object(ue.jsx)(i.a,{exact:!0,path:f,component:Pt}),Object(ue.jsx)(i.a,{path:"/web/login",component:Xt}),Object(ue.jsx)(i.a,{path:"/web/register",component:Bt}),Object(ue.jsx)(i.a,{path:"/web/account",component:Mt}),Object(ue.jsx)(i.a,{path:"/web/masters",component:Ut}),Object(ue.jsx)(i.a,{path:"/web/master/:masterID",component:Vt}),Object(ue.jsx)(i.a,{path:"/web/task",component:yt})]}),Object(ue.jsx)(ke,{})]})})},Kt=Object(w.a)({reducer:{user:I,master:A,task:K,navigator:y}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(ue.jsx)(r.a.StrictMode,{children:Object(ue.jsx)(d.a,{store:Kt,children:Object(ue.jsx)(o.a,{children:Object(ue.jsx)($t,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[360,1,2]]]);
//# sourceMappingURL=main.d5df6bf9.chunk.js.map